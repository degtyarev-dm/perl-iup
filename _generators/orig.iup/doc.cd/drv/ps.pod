=head1 CD_PS - PostScript Driver (cdps.h)

This drivers allows generating a PostScript file. This format was
created to be a high-quality graphics language for printers and is
currently supported by several printers. If your printer supports
PostScript, you can send the file generated by the driver directly to
the printer port. Usually, the filename has an extension .PS or .EPS.
The driver generates level-2 PostScript, therefore some PostScript
viewers might present errors. The format's copyrights are property of
L<Adobe Systems|http://www.adobe.com>.

=head2 Use

The file is created and opened by calling function
L<B<cdCreateCanvas>|../func/init.html#cdCreateCanvas>(CD_PS, Data), in
which Data contains the filename and canvas dimensions. This function
opens the file and writes its header. Then, other functions in the CD
library can be called as usual. The Data parameter string has the
following format:

 "filename -p[paper] -w[width] -h[height] -l[left] -r[right] -b[bottom] -t[top] -s[resolution] [-e] [-g] [-o] [-1] d[margin]"
 or in C
 "%s -p%d -w%g -h%g -l%g -r%g -b%g -t%g -s%d -e -o -1 -g -d%g"

The filename must be inside double quotes (") if it has spaces. Any
amount of such canvases may exist simultaneously. It is important to
note that a call to function L<B<
cdKillCanvas>|../func/init.html#cdKillCanvas> is required to B<close>
the file properly.

B<Paper Size - >The default paper size is A4. It is possible to change
it by using one of the predefined sizes - B<C<CD_A0>>, B<C<CD_A1>>,
B<C<CD_A2>>, B<C<CD_A3>>, B<C<CD_A4>>, B<C<CD_A5>>, B<C<CD_LETTER>> and
B<C< CD_LEGAL>> - with parameter "-p". It is also possible to define a
paper in a particular size by using parameters "-w" e "-h". Values are
provided in millimeters.

Default Paper Sizes

Width (mm)

Length (mm)

B<A0>

841

1187

B<A1>

594

841

B<A2>

420

594

B<A3>

297

420

B<A4>

210

297

B<A5>

148

210

B<Letter>

216

279

B<Legal>

216

356

B<Margins -> The margins are controlled by parameters "-l" "-r" "-t"
and "-b" (I<left, right, top, bottom>). Values are provided in
millimeters. Default margins are 25.4 mm to all parameters. You can
draw only inside the margins.

B<Resolution -> Resolution is used to convert values from millimeters
to pixels (the same as points, but the number of points is per inch -
DPI). Use parameter "-s" to configure the resolution. The default value
is 300 DPI.

B<Orientation -> The page can be oriented as portrait or landscape. The
default value is portrait, but when the parameter "-o" is used, the
horizontal and vertical values are switched.

B<EPS -> The PostScript file can be in an B<Encapsulated PostScriptB<
>>format. For such, simply specify the parameter "-e". It is useful for
other applications to import the PostScript file. You can define the
margins of the bounding box by means of parameter "-d", in millimeters.

B<Debug -> Parameter "-g" adds a series of comments to the PS file,
making the beginning and end of a command from the CD library explicit.
It is useful only for those who understand PostScript and wish to
identify a problem. It considerably increases the file size.

B<Level 1 -> Parameter "-1" forces the driver to generate a level-1
PostScript. In this case, pattern, stipple and hatch are not supported.

B<Pages -> Use function cdFlush to change to a new page. The previous
page will not be changed.

=head2 Behavior of Functions

=head2 Control

=over

=item * L<B<Play>|../func/other.html#cdPlay>: does nothing, returns
CD_ERROR.

=item * L<B<Flush>|../func/control.html#cdFlush>: changes to a new
page, preserving the previous one. Does nothing in EPS mode.

=item * L<B<Clear>|../func/control.html#cdClear>: does nothing.

=back

=head2 Coordinate System & Clipping

=over

=item * L< B<GetCanvasSize>|../func/coordinates.html#cdGetCanvasSize>:
returns the page's size within the margins (drawing area).

=item * L< B<UpdateYAxis>|../func/coordinates.html#cdUpdateYAxis>: does
nothing.

=item * B<Complex Regions>: not supported.

=item * B<Clipping>: not supported in EPS.

=back

=head2 Attributes

=over

=item * L< B< Background>|../func/attributes.html#cdBackground> does
nothing, returns CD_WHITE.

=item * L<B< BackOpacity>|../func/filled.html#cdBackOpacity>: does
nothing, returns CD_TRANSPARENT.

=item * L< B< WriteMode>|../func/attributes.html#cdWriteMode>: does
nothing, returns CD_REPLACE.

=item * L<B<FontDim>|../func/text.html#cdFontDim>: is simulated.

=item * L<B< TextSize>|../func/text.html#cdTextSize>: is simulated.

=item * L<B<Hatch>|../func/filled.html#cdHatch>: is always opaque (to
be implemented).

=item * L<B< Stipple>|../func/filled.html#cdStipple>: is always opaque
(to be implemented).

=item * L<B< TextAlignment>|../func/text.html#cdTextAlignment>:
Baseline is the same as South.

=item * L<B<Font>|../func/text.html#cdFont>: old name "System" is
mapped to "Courier". Styles are added to the Postscript font name.

=back

=head2 Colors

=over

=item * L< B< GetColorPlanes>|../func/color.html#cdGetColorPlanes>:
returns 24.

=item * L<B<Palette>|../func/color.html#cdPalette>: does nothing.

=back

=head2 Client Images

=over

=item * L<B< GetImageRGB>|../func/client.html#cdGetImageRGB>: does
nothing.

=item * B<L< PutImageMap|../func/client.html#cdPutImageMap>>: stores an
RGB image in the file (to be implemented).

=item * L<B< PutImageRGBA>|../func/client.html#cdPutImageRGBA>: alpha
is ignored (to be implemented).

=back

=head2 Primitives

=over

=item * B<L<Pixel|../func/marks.html#cdPixel>>: does not exist in PS,
is simulated using a circle with radius=1.

=item * Floating point primitives are supported.

=item * Filled primitives do not include the line at the edges of the
filled area.

=back

=head2 Server Images

=over

=item * All functions do nothing.

=back

=head2 Exclusive Attributes

=over

=item * "B<POLYHOLE>": defines the index of the vertex where there is a
hole in a closed polygon. It will affect the next B<cdEnd>. Can be
called several times between B<cdBegin> and B<cdEnd> to define holes.
The value passed must be a string containing an integer ("%d"). If the
value of the attribute passed is NULL, all holes will no longer be
considered. When consulted returns the current number of holes ("%d").
It can have a maximum of 500 holes.

=back

=over

=item * "B<CMD>": saves a string directly to the file. Allows adding
PostScript commands to the file generated by the CD library. (set only)

=back

=over

=item * "B<ROTATE>": allows the usage of 1 angle and 1 coordinate (x,
y), that define a global rotation transformation centered in the
specified coordinate. Use 1 real and 2 integer values inside a string
("%g %d %d" = angle x y). Can not be set if a transformation is already
set.

=back

=cut